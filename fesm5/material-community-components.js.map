{"version":3,"file":"material-community-components.js","sources":["ng://material-community-components/color-picker/color-picker.ts","ng://material-community-components/color-picker/color-picker.service.ts","ng://material-community-components/color-picker/color-picker-collection.component.ts","ng://material-community-components/color-picker/color-picker.component.ts","ng://material-community-components/color-picker/color-picker-selector.component.ts","ng://material-community-components/color-picker/color-picker.directives.ts","ng://material-community-components/color-picker/color-picker.module.ts","ng://material-community-components/scrollspy/scrollspy.ts","ng://material-community-components/scrollspy/scrollspy.service.ts","ng://material-community-components/scrollspy/scrollspy.directives.ts","ng://material-community-components/scrollspy/scrollspy.module.ts","ng://material-community-components/speed-dial/animations.ts","ng://material-community-components/speed-dial/speed-dial-actions.component.ts","ng://material-community-components/speed-dial/speed-dial.component.ts","ng://material-community-components/speed-dial/speed-dial.module.ts","ng://material-community-components/timer-picker/timer-picker.ts","ng://material-community-components/timer-picker/timer-picker.component.ts","ng://material-community-components/timer-picker/timer-picker.directives.ts","ng://material-community-components/timer-picker/timer-picker.module.ts","ng://material-community-components/material-community-components.ts"],"sourcesContent":["import { InjectionToken } from '@angular/core';\r\n\r\n/** Contant used as empty color */\r\nexport const EMPTY_COLOR = new InjectionToken<string>('empty-color');\r\n\r\n/** Constante to set usedColorStart from the module import */\r\nexport const USED_COLORS = new InjectionToken<string[]>('used-colors');\r\n\r\n/**\r\n *\r\n */\r\nexport interface ColorPickerConfig {\r\n  empty_color?: string;\r\n  used_colors?: string[];\r\n}\r\n\r\n/**\r\n * This interface represents one color. Using this interface instead simple string\r\n * will help screen readers, because the text attribute ir set to the aria-label of\r\n * the option\r\n */\r\nexport interface MccColorPickerItem {\r\n  text: string;\r\n  value: string;\r\n}\r\n\r\nexport type MccColorPickerOption = string | MccColorPickerItem;\r\n\r\n/**\r\n * Verify if color has # as a first char. If not, add this char\r\n * to the color\r\n * @param color string\r\n */\r\nexport function coerceHexaColor(color: string): string {\r\n  if (color && color.indexOf('#') !== 0) {\r\n    color = `#${color}`;\r\n  }\r\n\r\n  if (!isValidColor(color)) {\r\n    return;\r\n  }\r\n\r\n  return color.toUpperCase();\r\n}\r\n\r\n/**\r\n * Validate if the color is valid\r\n * @param color string\r\n */\r\nexport function isValidColor(color: string): boolean {\r\n  // validate if color is an hexadecimal\r\n  if (\r\n    !color ||\r\n    color.charAt(0) !== '#' ||\r\n    color.length < 4 ||\r\n    color.length > 7\r\n  ) {\r\n    return false;\r\n  }\r\n\r\n  // validate rgb of the color\r\n  return color.replace('#', '')\r\n    .match(/.{1,2}/g)\r\n    .map(v => Number.isNaN(parseInt(v, 16)))\r\n    .indexOf(true) === -1;\r\n}\r\n","import { Injectable, Inject } from '@angular/core';\r\nimport { coerceHexaColor, isValidColor, EMPTY_COLOR, USED_COLORS } from './color-picker';\r\nimport { Observable, BehaviorSubject } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class MccColorPickerService {\r\n  /**\r\n   * Array of all used colors\r\n   */\r\n  private _colors: BehaviorSubject<string[]> = new BehaviorSubject<string[]>([]);\r\n\r\n  constructor(\r\n    @Inject(EMPTY_COLOR) private emptyColor: string,\r\n    @Inject(USED_COLORS) private usedColors: string[]\r\n  ) {\r\n    this._colors.next(usedColors);\r\n  }\r\n\r\n  /**\r\n   * Add new color to used colors\r\n   * @param color string\r\n   */\r\n  addColor(color: string): void {\r\n    if (!color || !isValidColor(color)) {\r\n      return;\r\n    }\r\n\r\n    color = coerceHexaColor(color) || this.emptyColor;\r\n\r\n    const colors = this._colors.getValue();\r\n    if (!colors.find(_color => _color === color)) {\r\n      colors.push(color);\r\n      this._colors.next(colors);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Return Observable of colors\r\n   */\r\n  getColors(): Observable<string[]> {\r\n    return this._colors.asObservable();\r\n  }\r\n\r\n  /**\r\n   * Reset the array of used colors\r\n   */\r\n  resetUseColors(): void {\r\n    this._colors.next([]);\r\n  }\r\n}\r\n","import {\r\n  AfterContentChecked,\r\n  Component,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  EventEmitter,\r\n  Input,\r\n  Inject,\r\n  Output,\r\n} from '@angular/core';\r\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\r\nimport { EMPTY_COLOR, MccColorPickerOption } from './color-picker';\r\n\r\n@Component({\r\n  selector: 'mcc-color-picker-collection',\r\n  templateUrl: './color-picker-collection.component.html',\r\n  styleUrls: ['./color-picker-collection.component.scss'],\r\n  preserveWhitespaces: false,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class MccColorPickerCollectionComponent implements AfterContentChecked {\r\n  /**\r\n   * Hide empty slots\r\n   * Empty slots are the difference between the collection size and limit\r\n   */\r\n  @Input()\r\n  set hideEmpty(value: boolean) {\r\n    this._hideEmpty = coerceBooleanProperty(value);\r\n  }\r\n  private _hideEmpty: boolean = false;\r\n\r\n  /**\r\n   * Name of the collection\r\n   */\r\n  @Input()\r\n  get label(): string {\r\n    return this._label;\r\n  }\r\n  set label(value: string) {\r\n    this._label = value;\r\n  }\r\n  private _label: string;\r\n\r\n  /**\r\n   * Array of colors to be displayed\r\n   */\r\n  @Input()\r\n  get colors(): MccColorPickerOption[] {\r\n    return this._colors;\r\n  }\r\n  set colors(values: MccColorPickerOption[]) {\r\n    this._colors = values;\r\n  }\r\n  private _colors: MccColorPickerOption[];\r\n\r\n  /**\r\n   * Size limit of the collection\r\n   */\r\n  @Input() size: number = 30;\r\n\r\n  /**\r\n   * Show transparent option\r\n   */\r\n  @Input() transparent: boolean = false;\r\n\r\n  /**\r\n   * Emit selected color value\r\n   */\r\n  @Output() changeColor: EventEmitter<string> = new EventEmitter<string>();\r\n\r\n  constructor(\r\n    private changeDetectorRef: ChangeDetectorRef,\r\n    @Inject(EMPTY_COLOR) public emptyColor: string\r\n  ) {}\r\n\r\n  ngAfterContentChecked() {\r\n    if (this._colors && this._colors.length !== this.size) {\r\n      this._colors = this._colors\r\n        .slice(0, this.size)\r\n        .concat(new Array(this._getCollectionDiffSize()));\r\n      this.changeDetectorRef.markForCheck();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Return the difference between the limit and the collection size.\r\n   * Always return 0 when hideEmpty is true\r\n   * @returns number\r\n   */\r\n  private _getCollectionDiffSize(): number {\r\n    if (this._colors.length > this.size || this._hideEmpty) {\r\n      return 0;\r\n    }\r\n\r\n    return this.size - this._colors.length;\r\n  }\r\n\r\n  /**\r\n   * Remove color\r\n   */\r\n  setTransparent(): void {\r\n    this.changeColor.emit(this.emptyColor);\r\n  }\r\n\r\n  /**\r\n   * Emit selected color value\r\n   * @param option MccColorPickerOption\r\n   */\r\n  setColor(option: MccColorPickerOption) {\r\n    const color = typeof option === 'string' ? option : option.value;\r\n    this.changeColor.emit(color);\r\n  }\r\n}\r\n","import { coerceBooleanProperty } from '@angular/cdk/coercion';\r\nimport {\r\n  AfterContentInit,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ContentChildren,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Inject,\r\n  Input,\r\n  OnDestroy,\r\n  OnInit,\r\n  Output,\r\n  QueryList,\r\n} from '@angular/core';\r\nimport { BehaviorSubject, Observable, Subscription } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { EMPTY_COLOR, coerceHexaColor } from './color-picker';\r\nimport { MccColorPickerCollectionComponent } from './color-picker-collection.component';\r\nimport { MccColorPickerService } from './color-picker.service';\r\n\r\n@Component({\r\n  selector: 'mcc-color-picker',\r\n  templateUrl: './color-picker.component.html',\r\n  styleUrls: ['./color-picker.component.scss'],\r\n  preserveWhitespaces: false,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class MccColorPickerComponent implements AfterContentInit, OnInit, OnDestroy {\r\n  /**\r\n   * Get all collections\r\n   */\r\n  @ContentChildren(MccColorPickerCollectionComponent)\r\n  _collections: QueryList<MccColorPickerCollectionComponent>;\r\n\r\n  /**\r\n   * Change label of the collection UsedColors\r\n   */\r\n  @Input()\r\n  get usedColorLabel(): string {\r\n    return this._usedColorLabel;\r\n  }\r\n  set usedColorLabel(value: string) {\r\n    this._usedColorLabel = value;\r\n  }\r\n  private _usedColorLabel: string = 'Used Colors';\r\n\r\n  /**\r\n   * Set initial value for used color\r\n   */\r\n  @Input()\r\n  set usedColorStart(colors: string[]) {\r\n    if (colors && colors.length > 0) {\r\n      for (const color of colors) {\r\n        this.colorPickerService.addColor(color);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Set usedColor to be used in reverse\r\n   */\r\n  @Input()\r\n  set reverseUsedColors(reverse: boolean) {\r\n    this._reverseUsedColor = coerceBooleanProperty(reverse);\r\n  }\r\n  private _reverseUsedColor: boolean = false;\r\n\r\n  /**\r\n   * Hide the hexadecimal color forms.\r\n   */\r\n  @Input('hideHexForms')\r\n  get hideHexForms(): boolean {\r\n    return this._hideHexForms;\r\n  }\r\n  set hideHexForms(value: boolean) {\r\n    this._hideHexForms = value;\r\n  }\r\n  private _hideHexForms: boolean = false;\r\n\r\n  /**\r\n   * Hide empty slots from the collection UsedColors\r\n   */\r\n  @Input('hideEmptyUsedColors')\r\n  get hideEmpty(): boolean {\r\n    return this._hideEmpty;\r\n  }\r\n  set hideEmpty(value: boolean) {\r\n    this._hideEmpty = coerceBooleanProperty(value);\r\n  }\r\n  private _hideEmpty: boolean = false;\r\n\r\n  /**\r\n   * Hide transparent option of UsedColors\r\n   */\r\n  @Input('hideTransparentUsedColors')\r\n  get hideTransparent(): boolean {\r\n    return this._hideTransparent;\r\n  }\r\n  set hideTransparent(value: boolean) {\r\n    this._hideTransparent = coerceBooleanProperty(value);\r\n  }\r\n  private _hideTransparent: boolean = false;\r\n\r\n  /**\r\n   * Hide UsedColors collection\r\n   */\r\n  @Input('hideUsedColors')\r\n  get hideUsedColors(): boolean {\r\n    return this._hideUsedColors;\r\n  }\r\n  set hideUsedColors(value: boolean) {\r\n    this._hideUsedColors = coerceBooleanProperty(value);\r\n  }\r\n  private _hideUsedColors: boolean = false;\r\n\r\n  /**\r\n   * Start with a color selected\r\n   */\r\n  @Input()\r\n  get selectedColor(): string {\r\n    return this._selectedColor;\r\n  }\r\n  set selectedColor(value: string) {\r\n    if (this._selectedColor !== value) {\r\n      this.changeDetectorRef.markForCheck();\r\n    }\r\n\r\n    this._selectedColor = coerceHexaColor(value) || this.emptyColor;\r\n  }\r\n  private _selectedColor: string;\r\n\r\n  /**\r\n   * Define if the panel will be initiated open\r\n   */\r\n  @Input()\r\n  get isOpen(): boolean {\r\n    return this._isOpen;\r\n  }\r\n  set isOpen(value: boolean) {\r\n    this._isOpen = coerceBooleanProperty(value);\r\n  }\r\n  private _isOpen: boolean = false;\r\n\r\n  /**\r\n   * Define if the panel will show in overlay or not\r\n   */\r\n  @Input()\r\n  get overlay(): boolean {\r\n    return this._overlay;\r\n  }\r\n  set overlay(value: boolean) {\r\n    this._overlay = coerceBooleanProperty(value);\r\n  }\r\n  private _overlay: boolean = true;\r\n\r\n  /**\r\n   * Hide the action buttons (cancel/confirm)\r\n   */\r\n  @Input()\r\n  get hideButtons(): boolean {\r\n    return this._hideButtons;\r\n  }\r\n  set hideButtons(value: boolean) {\r\n    this._hideButtons = coerceBooleanProperty(value);\r\n  }\r\n  private _hideButtons: boolean = false;\r\n\r\n  /**\r\n   * Define new height for the selector\r\n   */\r\n  @Input()\r\n  get colorPickerSelectorHeight(): number {\r\n    return this._colorPickerSelectorHeight;\r\n  }\r\n  set colorPickerSelectorHeight(height: number) {\r\n    this._colorPickerSelectorHeight = height;\r\n  }\r\n  private _colorPickerSelectorHeight: number = 170;\r\n\r\n  /**\r\n   * Hide the color picker selector\r\n   */\r\n  @Input()\r\n  get hideColorPickerSelector(): boolean {\r\n    return this._hideColorPickerSelector;\r\n  }\r\n  set hideColorPickerSelector(value: boolean) {\r\n    this._hideColorPickerSelector = coerceBooleanProperty(value);\r\n  }\r\n  private _hideColorPickerSelector: boolean = false;\r\n\r\n  /**\r\n   * Set the size of the used colors\r\n   */\r\n  @Input() usedSizeColors: number = 30;\r\n\r\n  /**\r\n   * Change btnCancel label\r\n   */\r\n  @Input() btnCancel: string = 'Cancel';\r\n\r\n  /**\r\n   * Change btnConfirm label\r\n   */\r\n  @Input() btnConfirm: string = 'Confirm';\r\n\r\n  /**\r\n   * Event emitted when user change the selected color (without confirm)\r\n   */\r\n  @Output() change = new EventEmitter();\r\n\r\n  /**\r\n   * Event emitted when selected color is confirm\r\n   */\r\n  @Output() selected = new EventEmitter();\r\n\r\n  /**\r\n   * Event emitted when is clicked outside of the component\r\n   */\r\n  @Output() clickOut = new EventEmitter();\r\n\r\n  /**\r\n   * Return a Observable with the color the user is picking\r\n   */\r\n  get tmpSelectedColor$(): Observable<string> {\r\n    return this._tmpSelectedColor.asObservable();\r\n  }\r\n  private _tmpSelectedColor: BehaviorSubject<string>;\r\n\r\n  /**\r\n   * Observable with all the colors used by the user\r\n   */\r\n  get usedColors$(): Observable<string[]> {\r\n    return this.colorPickerService\r\n      .getColors()\r\n      .pipe(map(colors => (!this._reverseUsedColor ? colors : [...colors].reverse())));\r\n  }\r\n\r\n  /**\r\n   * Array of subscriptions from the collections\r\n   */\r\n  private _collectionSubs: Subscription[] = [];\r\n\r\n  constructor(\r\n    private elementRef: ElementRef,\r\n    private changeDetectorRef: ChangeDetectorRef,\r\n    private colorPickerService: MccColorPickerService,\r\n    @Inject(EMPTY_COLOR) public emptyColor: string\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    if (!this._selectedColor) {\r\n      this._selectedColor = this.emptyColor;\r\n    }\r\n\r\n    this._tmpSelectedColor = new BehaviorSubject<string>(this._selectedColor);\r\n  }\r\n\r\n  /**\r\n   * Walk throw all collections and subcribe to changes\r\n   */\r\n  ngAfterContentInit() {\r\n    if (this._collections) {\r\n      this._collections.forEach((collection: MccColorPickerCollectionComponent) => {\r\n        const subscription = collection.changeColor.subscribe(color => {\r\n          this.updateTmpSelectedColor(color);\r\n        });\r\n\r\n        this._collectionSubs.push(subscription);\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Destroy all subscriptions\r\n   */\r\n  ngOnDestroy() {\r\n    if (this._collectionSubs) {\r\n      this._collectionSubs.forEach((subscription: Subscription) => {\r\n        if (subscription && !subscription.closed) {\r\n          subscription.unsubscribe();\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Update selected color and emit the change\r\n   */\r\n  private _updateSelectedColor() {\r\n    if (this._isOpen || !this.overlay) {\r\n      const tmpSelectedColor = this._tmpSelectedColor.getValue();\r\n      if (this._selectedColor !== tmpSelectedColor) {\r\n        this._selectedColor = tmpSelectedColor;\r\n        this.selected.next(this._selectedColor);\r\n      } else {\r\n        this.selected.emit(this._selectedColor);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Open/close color picker panel\r\n   */\r\n  toggle() {\r\n    this._isOpen = !this._isOpen;\r\n    if (!this._isOpen && this._selectedColor !== this.emptyColor) {\r\n      this.colorPickerService.addColor(this._selectedColor);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Update selected color, close the panel and notify the user\r\n   */\r\n  backdropClick(): void {\r\n    if (this._hideButtons) {\r\n      this.confirmSelectedColor();\r\n    } else {\r\n      this.cancelSelection();\r\n    }\r\n    this.clickOut.emit(null);\r\n  }\r\n\r\n  /**\r\n   * Update tmpSelectedColor\r\n   * @param color string\r\n   */\r\n  updateTmpSelectedColor(color: string) {\r\n    if (color) {\r\n      this._tmpSelectedColor.next(color);\r\n      this.change.next(color);\r\n      if (this._hideButtons) {\r\n        this._updateSelectedColor();\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Cancel the selection and close the panel\r\n   */\r\n  cancelSelection() {\r\n    this._tmpSelectedColor.next(this._selectedColor);\r\n    this.toggle();\r\n  }\r\n\r\n  /**\r\n   * Update selectedColor and close the panel\r\n   */\r\n  confirmSelectedColor() {\r\n    this._updateSelectedColor();\r\n    this.toggle();\r\n  }\r\n}\r\n","import {\r\n  AfterViewInit,\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Inject,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  OnInit,\r\n  Output,\r\n  Renderer2,\r\n  SimpleChanges,\r\n  ViewChild,\r\n} from '@angular/core';\r\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { BehaviorSubject, Subscription } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { EMPTY_COLOR, coerceHexaColor, isValidColor } from './color-picker';\r\n\r\ninterface ColorOption {\r\n  type: string;\r\n  value: number;\r\n}\r\n\r\n@Component({\r\n  selector: 'mcc-color-picker-selector',\r\n  templateUrl: './color-picker-selector.component.html',\r\n  styleUrls: ['./color-picker-selector.component.scss'],\r\n  preserveWhitespaces: false,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class MccColorPickerSelectorComponent\r\n  implements AfterViewInit, OnInit, OnChanges, OnDestroy {\r\n  /**\r\n   * ElemenRef of the main color\r\n   */\r\n   @ViewChild('block') _block: ElementRef;\r\n\r\n  /**\r\n   * ElemenRef of the pointer main color\r\n   */\r\n  @ViewChild('blockPointer') _bp: ElementRef;\r\n\r\n  /**\r\n   * Canvas of the block\r\n   */\r\n  @ViewChild('blockCanvas')\r\n  set blockCursor(el: ElementRef) {\r\n    this._bc = el;\r\n  }\r\n  private _bc: ElementRef;\r\n  private _blockContext: any;\r\n\r\n  /**\r\n   * ElementRef of the color base\r\n   */\r\n  @ViewChild('strip') _strip: ElementRef;\r\n  // hold _strip context\r\n  private _stripContext: any;\r\n\r\n  /**\r\n   * Container of the strip\r\n   */\r\n  @ViewChild('stripContainer')\r\n  set stripCursor(el: ElementRef) {\r\n    this._sc = el;\r\n  }\r\n  private _sc: ElementRef;\r\n\r\n  /**\r\n   * Change height base of the selector\r\n   */\r\n  @Input('height')\r\n  set height(value: number) {\r\n    this._height = value;\r\n  }\r\n  get selectorHeight(): number {\r\n    return this._height;\r\n  }\r\n  get stripHeight(): number {\r\n    return this._height - 10;\r\n  }\r\n  private _height: number = 170;\r\n\r\n  /**\r\n   * Receive selected color from the component\r\n   */\r\n  @Input()\r\n  get selectedColor(): string {\r\n    return this._selectedColor;\r\n  }\r\n  set selectedColor(value: string) {\r\n    this._selectedColor = value || this.emptyColor;\r\n  }\r\n  private _selectedColor: string = '';\r\n\r\n  /**\r\n   * Hide the hexadecimal color forms.\r\n   */\r\n  @Input('hideHexForms')\r\n  get hideHexForms(): boolean {\r\n    return this._hideHexForms;\r\n  }\r\n  set hideHexForms(value: boolean) {\r\n    this._hideHexForms = value;\r\n  }\r\n  private _hideHexForms: boolean = false;\r\n\r\n  /**\r\n   * Emit update when a color is selected\r\n   */\r\n  @Output() changeSelectedColor = new EventEmitter();\r\n\r\n  /**\r\n   * RGBA current color\r\n   */\r\n  private _rgbaColor: string = 'rgba(255,0,0,1)';\r\n\r\n  /**\r\n   * Subject of the current selected color by the user\r\n   */\r\n  private _tmpSelectedColor: BehaviorSubject<string>;\r\n\r\n  /**\r\n   * Subscription of the tmpSelectedColor Observable\r\n   */\r\n  private _tmpSelectedColorSub: Subscription;\r\n\r\n  /**\r\n   * Subscription of the hexForm values change\r\n   */\r\n  private _hexValuesSub: Subscription;\r\n\r\n  /**\r\n   * Subscription of the rbgForm values change\r\n   */\r\n  private _rgbValuesSub: Subscription;\r\n\r\n  /**\r\n   * Handle color of the text\r\n   */\r\n  textClass: string = 'black';\r\n\r\n  /**\r\n   * Validate if the mouse button is pressed\r\n   */\r\n  _isPressed: boolean = false;\r\n\r\n  /**\r\n   * Form of the color in hexa\r\n   */\r\n  hexForm: FormGroup;\r\n\r\n  /**\r\n   * Form and keys of the fields in RGB\r\n   */\r\n  rgbKeys = ['R', 'G', 'B'];\r\n  rgbForm: FormGroup;\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private render: Renderer2,\r\n    @Inject(EMPTY_COLOR) private emptyColor: string\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this._tmpSelectedColor = new BehaviorSubject<string>(this._selectedColor);\r\n    this._tmpSelectedColorSub = this._tmpSelectedColor.subscribe(color => {\r\n      if (color !== this._selectedColor && isValidColor(color)) {\r\n        if (this.hexForm.get('hexCode').value !== color) {\r\n          this.hexForm.setValue({ hexCode: color });\r\n        }\r\n        this.changeSelectedColor.emit(coerceHexaColor(color) || this.emptyColor);\r\n      }\r\n    });\r\n\r\n    // hex form\r\n    this.hexForm = this.formBuilder.group({\r\n      hexCode: [this.selectedColor, [Validators.minLength(7), Validators.maxLength(7)]],\r\n    });\r\n\r\n    // rgb dynamic form\r\n    const rgbGroup: any = {};\r\n    const rgbValue: number[] = this._getRGB();\r\n    this.rgbKeys.forEach(\r\n      (key, index) =>\r\n        (rgbGroup[key] = new FormControl(rgbValue[index], {\r\n          validators: [\r\n            Validators.min(0),\r\n            Validators.max(256),\r\n            Validators.required,\r\n            Validators.maxLength(3),\r\n          ],\r\n          updateOn: 'blur',\r\n        }))\r\n    );\r\n    this.rgbForm = this.formBuilder.group(rgbGroup);\r\n\r\n    // watch changes on forms\r\n    this._onChanges();\r\n  }\r\n\r\n  /**\r\n   * Update RGB, RGBA and Gradient when selectedColor change and\r\n   * the mouse button is pressed\r\n   * @param changes SimpleChanges\r\n   */\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if ('selectedColor' in changes && changes['selectedColor'].currentValue !== this.emptyColor) {\r\n      if (!this._isPressed) {\r\n        this._updateRGB();\r\n        this._updateRGBA();\r\n        if (this._blockContext) {\r\n          this._fillGradient();\r\n        }\r\n      }\r\n\r\n      const rgb = this._getRGB();\r\n      const o = Math.round((rgb[0] * 299 + rgb[1] * 587 + rgb[2] * 114) / 1000);\r\n      this.textClass = o > 125 ? 'black' : 'white';\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Destroy all subscriptions\r\n   */\r\n  ngOnDestroy() {\r\n    if (this._tmpSelectedColorSub && !this._tmpSelectedColorSub.closed) {\r\n      this._tmpSelectedColorSub.unsubscribe();\r\n    }\r\n    if (this._hexValuesSub && !this._hexValuesSub.closed) {\r\n      this._hexValuesSub.unsubscribe();\r\n    }\r\n    if (this._rgbValuesSub && !this._rgbValuesSub.closed) {\r\n      this._rgbValuesSub.unsubscribe();\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.render.listen(this._block.nativeElement, 'mousedown', e => {\r\n      this._isPressed = true;\r\n      this.changeColor(e);\r\n    });\r\n    this.render.listen(this._block.nativeElement, 'mouseup', () => (this._isPressed = false));\r\n    this.render.listen(this._block.nativeElement, 'mouseout', () => (this._isPressed = false));\r\n    this.render.listen(this._block.nativeElement, 'mousemove', e => this.changeColor(e));\r\n    this._blockContext = this._bc.nativeElement.getContext('2d');\r\n    this._blockContext.rect(0, 0, this._bc.nativeElement.width, this._bc.nativeElement.height);\r\n\r\n    this.render.listen(this._strip.nativeElement, 'mousedown', e => {\r\n      this._isPressed = true;\r\n      this.changeBaseColor(e);\r\n    });\r\n    this.render.listen(this._strip.nativeElement, 'mouseup', () => (this._isPressed = false));\r\n    this.render.listen(this._strip.nativeElement, 'mouseout', () => (this._isPressed = false));\r\n    this.render.listen(this._strip.nativeElement, 'mousemove', e => this.changeBaseColor(e));\r\n    this._stripContext = this._strip.nativeElement.getContext('2d');\r\n    this._stripContext.rect(\r\n      0,\r\n      0,\r\n      this._strip.nativeElement.width,\r\n      this._strip.nativeElement.height\r\n    );\r\n    const grd1 = this._stripContext.createLinearGradient(0, 0, 0, this._bc.nativeElement.height);\r\n    grd1.addColorStop(0, 'rgba(255, 0, 0, 1)');\r\n    grd1.addColorStop(0.17, 'rgba(255, 255, 0, 1)');\r\n    grd1.addColorStop(0.34, 'rgba(0, 255, 0, 1)');\r\n    grd1.addColorStop(0.51, 'rgba(0, 255, 255, 1)');\r\n    grd1.addColorStop(0.68, 'rgba(0, 0, 255, 1)');\r\n    grd1.addColorStop(0.85, 'rgba(255, 0, 255, 1)');\r\n    grd1.addColorStop(1, 'rgba(255, 0, 0, 1)');\r\n    this._stripContext.fillStyle = grd1;\r\n    this._stripContext.fill();\r\n\r\n    this._fillGradient();\r\n  }\r\n\r\n  /**\r\n   * Generate colors based on the RGBA color\r\n   */\r\n  private _fillGradient(): void {\r\n    this._blockContext.fillStyle = this._rgbaColor;\r\n    this._blockContext.fillRect(0, 0, this._bc.nativeElement.width, this._bc.nativeElement.height);\r\n\r\n    const grdWhite = this._stripContext.createLinearGradient(0, 0, this._bc.nativeElement.width, 0);\r\n    grdWhite.addColorStop(0, 'rgba(255,255,255,1)');\r\n    grdWhite.addColorStop(1, 'rgba(255,255,255,0)');\r\n    this._blockContext.fillStyle = grdWhite;\r\n    this._blockContext.fillRect(0, 0, this._bc.nativeElement.width, this._bc.nativeElement.height);\r\n\r\n    const grdBlack = this._stripContext.createLinearGradient(\r\n      0,\r\n      0,\r\n      0,\r\n      this._bc.nativeElement.height\r\n    );\r\n    grdBlack.addColorStop(0, 'rgba(0,0,0,0)');\r\n    grdBlack.addColorStop(1, 'rgba(0,0,0,1)');\r\n    this._blockContext.fillStyle = grdBlack;\r\n    this._blockContext.fillRect(0, 0, this._bc.nativeElement.width, this._bc.nativeElement.height);\r\n  }\r\n\r\n  /**\r\n   * Watch change on forms\r\n   */\r\n  private _onChanges() {\r\n    // validate digited code and update when digitation is finished\r\n    this._hexValuesSub = this.hexForm.get('hexCode').valueChanges\r\n      .pipe(map(color => color !== this.emptyColor ? coerceHexaColor(color) : color))\r\n      .subscribe(value => {\r\n        if (!this._isPressed && isValidColor(value)) {\r\n          this._tmpSelectedColor.next(value || this.emptyColor);\r\n        }\r\n      });\r\n\r\n    this._rgbValuesSub = this.rgbForm.valueChanges.subscribe(controls => {\r\n      const data: string[] = [];\r\n      for (const key in controls) {\r\n        if (!controls[key] && controls[key] !== 0 || controls[key] > 255) {\r\n          data.push('');\r\n          continue;\r\n        }\r\n\r\n        data.push(controls[key]);\r\n      }\r\n\r\n      const hex = this._getHex(data);\r\n      if (hex !== this._selectedColor && hex.length === 7) {\r\n        this._tmpSelectedColor.next(hex);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Convert HEX/canvas value to rgb\r\n   * @param data any\r\n   * @returns number[]\r\n   */\r\n  private _getRGB(data?: any): number[] {\r\n    if (data) {\r\n      return [data[0], data[1], data[2]];\r\n    }\r\n    const hex = this._selectedColor.replace('#', '');\r\n    const r = parseInt(hex.slice(0, 2), 16);\r\n    const g = parseInt(hex.slice(2, 4), 16);\r\n    const b = parseInt(hex.slice(4, 6), 16);\r\n\r\n    return [r, g, b];\r\n  }\r\n\r\n  /**\r\n   * Convert RGB value to HEX\r\n   * @param data any\r\n   * @returns string\r\n   */\r\n  private _getHex(data: any): string {\r\n    const hex = new Array(3);\r\n    hex[0] = data[0].toString(16);\r\n    hex[1] = data[1].toString(16);\r\n    hex[2] = data[2].toString(16);\r\n\r\n    hex.forEach((val, key) => {\r\n      if (val.length === 1) {\r\n        hex[key] = '0' + hex[key];\r\n      }\r\n    });\r\n\r\n    return coerceHexaColor(`${hex[0]}${hex[1]}${hex[2]}`) || this.emptyColor;\r\n  }\r\n\r\n  /**\r\n   * Update RGBA color\r\n   * @param data any\r\n   */\r\n  private _updateRGBA(data?: any): void {\r\n    if (!this._selectedColor && !data) {\r\n      this._rgbaColor = 'rgba(255,0,0,1)';\r\n    }\r\n\r\n    const rgb = this._getRGB(data);\r\n    this._rgbaColor = `rgba(${rgb[0]}, ${rgb[1]}, ${rgb[2]}, 1)`;\r\n  }\r\n\r\n  /**\r\n   * Update RGB form\r\n   * @param data any\r\n   */\r\n  private _updateRGB(data?: any): void {\r\n    if (!this.rgbForm) {\r\n      return;\r\n    }\r\n\r\n    if (!data) {\r\n      data = this._getRGB();\r\n    }\r\n\r\n    this.rgbForm.setValue({ R: data[0], G: data[1], B: data[2] });\r\n  }\r\n\r\n  /**\r\n   * Get selected base color from the canvas\r\n   * @param e MouseEvent\r\n   */\r\n  private changeBaseColor(e): void {\r\n    if (this._isPressed) {\r\n      this.render.setStyle(this._sc.nativeElement, 'background-position-y', `${e.offsetY}px`);\r\n      const data = this._stripContext.getImageData(e.offsetX, e.offsetY, 1, 1).data;\r\n      this._updateRGBA(data);\r\n      this._fillGradient();\r\n      this.updateValues(data);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get selected color from the canvas\r\n   * @param e MouseEvent\r\n   */\r\n  private changeColor(e): void {\r\n    if (this._isPressed) {\r\n      this.render.setStyle(this._bp.nativeElement, 'top', `${e.offsetY - 5}px`);\r\n      this.render.setStyle(this._bp.nativeElement, 'left', `${e.offsetX - 5}px`);\r\n\r\n      const data = this._blockContext.getImageData(e.offsetX, e.offsetY, 1, 1).data;\r\n      this.updateValues(data);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Emit update from the selected color\r\n   * @param data any\r\n   */\r\n  private updateValues(data: any): void {\r\n    if (data) {\r\n      this._updateRGB(data);\r\n      this._tmpSelectedColor.next(this._getHex(data));\r\n    }\r\n  }\r\n}\r\n","import {\r\n  AfterViewInit,\r\n  ChangeDetectorRef,\r\n  Directive,\r\n  ElementRef,\r\n  forwardRef,\r\n  Input,\r\n  Inject,\r\n  OnDestroy,\r\n  Output,\r\n  Renderer2,\r\n} from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { MccColorPickerComponent } from './color-picker.component';\r\nimport { EMPTY_COLOR, coerceHexaColor, isValidColor, MccColorPickerOption } from './color-picker';\r\nimport { Subscription, BehaviorSubject } from 'rxjs';\r\n\r\n/**\r\n * This directive change the background of the button\r\n */\r\n@Directive({\r\n  selector: '[mccColorPickerOption], [mcc-color-picker-option]',\r\n  exportAs: 'mccColorPickerOption',\r\n})\r\nexport class MccColorPickerOptionDirective implements AfterViewInit {\r\n  /**\r\n   * Receive the color\r\n   */\r\n  @Input('mccColorPickerOption')\r\n  get color(): MccColorPickerOption {\r\n    return this._color;\r\n  }\r\n  set color(value: MccColorPickerOption) {\r\n    this._color = value;\r\n  }\r\n  private _color: MccColorPickerOption;\r\n\r\n  constructor(\r\n    private elementRef: ElementRef,\r\n    private render: Renderer2,\r\n    @Inject(EMPTY_COLOR) private emptyColor: string\r\n  ) {\r\n    this._color = emptyColor;\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    if (this.color) {\r\n      let color: string;\r\n      if (typeof this.color === 'string') {\r\n        color = this.color;\r\n      } else {\r\n        color = this.color.value;\r\n        this.render.setAttribute(this.elementRef.nativeElement, 'aria-label', this.color.text);\r\n      }\r\n\r\n      if (isValidColor(color)) {\r\n        // apply the color\r\n        this.render.setStyle(\r\n          this.elementRef.nativeElement,\r\n          'background',\r\n          coerceHexaColor(color) || this.emptyColor\r\n        );\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Directive applied to an element to make it usable as an origin for an ColorPicker.\r\n */\r\n@Directive({\r\n  selector: '[mcc-color-picker-origin], [mccColorPickerOrigin]',\r\n  exportAs: 'mccColorPickerOrigin',\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: forwardRef(() => MccColorPickerOriginDirective),\r\n      multi: true,\r\n    },\r\n  ],\r\n})\r\nexport class MccColorPickerOriginDirective implements ControlValueAccessor {\r\n  /**\r\n   * Emit changes from the origin\r\n   */\r\n  @Output() change: BehaviorSubject<string> = new BehaviorSubject<string>('');\r\n\r\n  /**\r\n   * Propagate changes to angular\r\n   */\r\n  propagateChanges: (_: any) => {};\r\n\r\n  /**\r\n   * Reference to the element on which the directive is applied.\r\n   */\r\n  constructor(\r\n    private elementRef: ElementRef,\r\n    private renderer: Renderer2,\r\n    @Inject(EMPTY_COLOR) private emptyColor: string\r\n  ) {\r\n    // listen changes onkeyup and update color picker\r\n    renderer.listen(elementRef.nativeElement, 'keyup', (event: KeyboardEvent) => {\r\n      const value: string = event.currentTarget['value'];\r\n      if (event.isTrusted && isValidColor(value)) {\r\n        this.writeValueFromKeyup(coerceHexaColor(value) || this.emptyColor);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * This method will be called by the forms API to write to the view when\r\n   * programmatic (model -> view) changes are requested.\r\n   */\r\n  writeValue(color: string) {\r\n    this.renderer.setProperty(this.elementRef.nativeElement, 'value', color);\r\n    this.change.next(color);\r\n    if (this.propagateChanges) {\r\n      this.propagateChanges(color);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * This method will be called by the color picker\r\n   */\r\n  writeValueFromColorPicker(color: string) {\r\n    this.renderer.setProperty(this.elementRef.nativeElement, 'value', color);\r\n    this.propagateChanges(color);\r\n  }\r\n\r\n  /**\r\n   * This method will be called from origin whe key is up\r\n   */\r\n  writeValueFromKeyup(color: string) {\r\n    this.change.next(color);\r\n    this.propagateChanges(color);\r\n  }\r\n\r\n  /**\r\n   * This is called by the forms API on initialization so it can update the\r\n   * form model when values propagate from the view (view -> model).\r\n   * @param fn any\r\n   */\r\n  registerOnChange(fn: any): void {\r\n    this.propagateChanges = fn;\r\n  }\r\n\r\n  /**\r\n   * This is called by the forms API on initialization so it can update the form model on blur\r\n   * @param fn any\r\n   */\r\n  registerOnTouched(fn: any): void {}\r\n\r\n  /**\r\n   * called by the forms API when the control status changes to or from \"DISABLED\"\r\n   * @param isDisabled boolean\r\n   */\r\n  setDisabledState(isDisabled: boolean): void {\r\n    this.renderer.setProperty(this.elementRef.nativeElement, 'disabled', isDisabled);\r\n  }\r\n}\r\n\r\n/**\r\n * Directive connect an color picker with any input, select or textarea.\r\n * The color picker will be automatically updated when the value of the origin is\r\n * changed.\r\n */\r\n@Directive({\r\n  selector: '[mcc-connected-color-picker], [mccConnectedColorPicker]',\r\n  exportAs: 'mccConnectedColorPicker',\r\n})\r\nexport class MccConnectedColorPickerDirective implements AfterViewInit, OnDestroy {\r\n  /**\r\n   * Origin of the connected color picker\r\n   */\r\n  @Input('mccConnectedColorPickerOrigin') origin: MccColorPickerOriginDirective;\r\n\r\n  /**\r\n   * Color picker subscription\r\n   */\r\n  private _colorPickerSub: Subscription;\r\n\r\n  /**\r\n   * Origin subscription\r\n   */\r\n  private _originSub: Subscription;\r\n\r\n  constructor(\r\n    private colorPicker: MccColorPickerComponent,\r\n    public changeDetectorRef: ChangeDetectorRef,\r\n    @Inject(EMPTY_COLOR) private emptyColor: string\r\n  ) {}\r\n\r\n  ngAfterViewInit() {\r\n    if (!this._colorPickerSub) {\r\n      this._attachColorPicker();\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this._colorPickerSub && !this._colorPickerSub.closed) {\r\n      this._colorPickerSub.unsubscribe();\r\n    }\r\n    if (this._originSub && !this._originSub.closed) {\r\n      this._originSub.unsubscribe();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Attach color picker and origin\r\n   */\r\n  private _attachColorPicker(): void {\r\n    // subscribe to origin change to update color picker\r\n    this._originSub = this.origin.change.subscribe(value => {\r\n      if (\r\n        isValidColor(value) ||\r\n        (value === this.emptyColor && this.colorPicker.selectedColor !== this.emptyColor)\r\n      ) {\r\n        this.colorPicker.updateTmpSelectedColor(value);\r\n      }\r\n      this.colorPicker.selectedColor = value;\r\n      this.changeDetectorRef.detectChanges();\r\n    });\r\n\r\n    // subscribe to color picker changes and set on origin element\r\n    this._colorPickerSub = this.colorPicker.change.subscribe(value =>\r\n      this.origin.writeValueFromColorPicker(value)\r\n    );\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { OverlayModule } from '@angular/cdk/overlay';\r\nimport { PortalModule } from '@angular/cdk/portal';\r\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\r\n\r\nimport { EMPTY_COLOR, USED_COLORS, ColorPickerConfig } from './color-picker';\r\n\r\nimport { MccColorPickerService } from './color-picker.service';\r\n\r\nimport { MccColorPickerComponent } from './color-picker.component';\r\nimport { MccColorPickerSelectorComponent } from './color-picker-selector.component';\r\nimport { MccColorPickerCollectionComponent } from './color-picker-collection.component';\r\nimport {\r\n  MccConnectedColorPickerDirective,\r\n  MccColorPickerOriginDirective,\r\n  MccColorPickerOptionDirective,\r\n} from './color-picker.directives';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    PortalModule,\r\n    OverlayModule,\r\n    ReactiveFormsModule,\r\n    MatButtonModule,\r\n    MatFormFieldModule,\r\n    MatInputModule,\r\n  ],\r\n  declarations: [\r\n    MccColorPickerComponent,\r\n    MccConnectedColorPickerDirective,\r\n    MccColorPickerSelectorComponent,\r\n    MccColorPickerOriginDirective,\r\n    MccColorPickerOptionDirective,\r\n    MccColorPickerCollectionComponent,\r\n  ],\r\n  exports: [\r\n    MccColorPickerComponent,\r\n    MccConnectedColorPickerDirective,\r\n    MccColorPickerOriginDirective,\r\n    MccColorPickerCollectionComponent,\r\n  ],\r\n  providers: [\r\n    MccColorPickerService,\r\n    { provide: EMPTY_COLOR, useValue: 'none' },\r\n    { provide: USED_COLORS, useValue: [] }\r\n  ],\r\n})\r\nexport class MccColorPickerModule {\r\n  /**\r\n   *\r\n   */\r\n  static forRoot(config: ColorPickerConfig): ModuleWithProviders<MccColorPickerModule> {\r\n    return {\r\n      ngModule: MccColorPickerModule,\r\n      providers: [\r\n        { provide: EMPTY_COLOR, useValue: config.empty_color || 'none' },\r\n        { provide: USED_COLORS, useValue: config.used_colors || [] }\r\n      ],\r\n    };\r\n  }\r\n}\r\n","import { MccScrollspyItemDirective } from './scrollspy.directives';\r\nimport { BehaviorSubject } from 'rxjs';\r\n\r\n// scrollspy animations\r\nexport const SCROLLSPY_ANIMATION_SMOOTH = 'smooth';\r\nexport const SCROLLSPY_ANIMATION_INSTANT = 'instant';\r\nexport const SCROLLSPY_ANIMATION_AUTO = 'auto';\r\n\r\n/**\r\n * Scrollspy group\r\n */\r\nexport interface MccScrollspyGroup {\r\n  name: string;\r\n  animation: ScrollBehavior;\r\n  items: BehaviorSubject<MccScrollspyItemDirective[]>;\r\n}\r\n","import { Injectable, Inject, OnDestroy } from '@angular/core';\r\nimport { MccScrollspyItemDirective } from './scrollspy.directives';\r\nimport { MccScrollspyGroup, SCROLLSPY_ANIMATION_SMOOTH } from './scrollspy';\r\nimport { Subscription, Observable, BehaviorSubject, fromEvent } from 'rxjs';\r\nimport { debounceTime, withLatestFrom } from 'rxjs/operators';\r\n\r\n@Injectable()\r\nexport class MccScrollspyService implements OnDestroy {\r\n  /**\r\n   * When scroll is from click event, change this attr to true\r\n   * So scroll event obeservable doesn't emit any update\r\n   */\r\n  private _fromClick: boolean = false;\r\n\r\n  /**\r\n   * List of scrollspy group\r\n   */\r\n  private data: MccScrollspyGroup[] = [];\r\n\r\n  /**\r\n   * Scroll event subscription\r\n   */\r\n  private _scrollSub: Subscription;\r\n\r\n  constructor(@Inject('Window') private window: any) {\r\n    // listen to scroll event\r\n    this._scrollSub = fromEvent(window, 'scroll')\r\n      .pipe(debounceTime(50), withLatestFrom(() => window.scrollY))\r\n      .subscribe(position => {\r\n        if (!this._fromClick) {\r\n          this._updateFocused(position);\r\n        }\r\n        this._fromClick = false;\r\n      });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this._scrollSub && !this._scrollSub.closed) {\r\n      this._scrollSub.unsubscribe();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Update information about wich element is on focus\r\n   * @param position number\r\n   */\r\n  private _updateFocused(position: number): void {\r\n    this.data.forEach(group => {\r\n      const items = [];\r\n      group.items.getValue().forEach((item, index) => {\r\n        item.focus = false;\r\n        if (item.top <= position) {\r\n          if (items[index - 1]) {\r\n            items[index - 1].focus = false;\r\n          }\r\n\r\n          item.focus = true;\r\n        }\r\n\r\n        items.push(item);\r\n      });\r\n\r\n      group.items.next(items);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Create new group of items\r\n   * @param name string\r\n   * @param items MccScrollspyItemDirective[]\r\n   * @param animation ScrollBehavior\r\n   */\r\n  create(\r\n    name: string,\r\n    items?: MccScrollspyItemDirective[],\r\n    animation?: ScrollBehavior\r\n  ): MccScrollspyGroup {\r\n    let group: MccScrollspyGroup = this.data.find(group => group.name === name);\r\n    if (!group) {\r\n      group = {\r\n        name: name,\r\n        animation: animation || SCROLLSPY_ANIMATION_SMOOTH,\r\n        items: new BehaviorSubject<MccScrollspyItemDirective[]>(items || []),\r\n      };\r\n\r\n      this.data.push(group);\r\n    } else {\r\n      group.items.next(items || []);\r\n    }\r\n\r\n    return group;\r\n  }\r\n\r\n  /**\r\n   * Return observable of the group\r\n   * @param name string\r\n   */\r\n  group(name: string): Observable<MccScrollspyItemDirective[]> {\r\n    let group: MccScrollspyGroup = this.data.find(g => g.name === name);\r\n    if (!group) {\r\n      group = this.create(name);\r\n    }\r\n\r\n    return group.items.asObservable();\r\n  }\r\n\r\n  /**\r\n   * Scroll to one of the items\r\n   * @param name string\r\n   * @param id string\r\n   */\r\n  scrollTo(name: string, id: string): void {\r\n    const group: MccScrollspyGroup = this.data.find(group => group.name === name);\r\n\r\n    group.items.getValue().forEach(item => {\r\n      item.focus = false;\r\n      if (item.id === id) {\r\n        this._fromClick = true;\r\n        this._updateFocused(item.top);\r\n        window.scrollTo({ top: item.top, behavior: group.animation });\r\n      }\r\n    });\r\n  }\r\n}\r\n","import {\r\n  AfterContentInit,\r\n  Input,\r\n  ContentChildren,\r\n  Directive,\r\n  ElementRef,\r\n  QueryList,\r\n  Renderer2,\r\n} from '@angular/core';\r\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\r\nimport { MccScrollspyService } from './scrollspy.service';\r\n\r\n@Directive({\r\n  selector: '[mccScrollspyItem], [mcc-scrollspy-item]',\r\n  exportAs: 'mccScrollspyItem',\r\n})\r\nexport class MccScrollspyItemDirective implements AfterContentInit {\r\n  /**\r\n   * Hold the element id, if element doesn't have id\r\n   * the method will create one\r\n   */\r\n  set id(id: string) {\r\n    if (!id) {\r\n      id = this._createId();\r\n      this.renderer.setProperty(this.elementRef.nativeElement, 'id', id);\r\n    }\r\n\r\n    this._id = id;\r\n  }\r\n  get id(): string {\r\n    return this._id;\r\n  }\r\n  private _id: string;\r\n\r\n  /**\r\n   * Element distance of the top\r\n   */\r\n  get top(): number {\r\n    return this.elementRef.nativeElement.offsetTop;\r\n  }\r\n\r\n  /**\r\n   * Element is focused\r\n   */\r\n  @Input('focus')\r\n  set focus(focused: boolean) {\r\n    this._focused = coerceBooleanProperty(focused);\r\n  }\r\n  get focus(): boolean {\r\n    return this._focused;\r\n  }\r\n  private _focused: boolean;\r\n\r\n  /**\r\n   * Label that will appear on the list of items.\r\n   * The default is the text inside the element\r\n   */\r\n  @Input() label: string;\r\n\r\n  constructor(public elementRef: ElementRef, private renderer: Renderer2) {}\r\n\r\n  ngAfterContentInit() {\r\n    if (!this.label) {\r\n      this.label = this.elementRef.nativeElement.textContent;\r\n    }\r\n    this.id = this.elementRef.nativeElement.id;\r\n  }\r\n\r\n  /**\r\n   * Create an ID for the element\r\n   */\r\n  private _createId(): string {\r\n    let tmpID = this.label.toLowerCase().replace(/[ ]+/gi, '_');\r\n    return `mcc_scrollspy_${tmpID}`;\r\n  }\r\n}\r\n\r\n@Directive({\r\n  selector: '[mccScrollspyGroup], [mcc-scrollspy-group]',\r\n  exportAs: 'mccScrollspyGroup',\r\n})\r\nexport class MccScrollspyGroupDirective implements AfterContentInit {\r\n  /**\r\n   * List of scrollspy items\r\n   */\r\n  @ContentChildren(MccScrollspyItemDirective) items: QueryList<MccScrollspyItemDirective>;\r\n\r\n  /**\r\n   * Name of the scrollspy group\r\n   */\r\n  @Input('mccScrollspyGroup')\r\n  set name(name: string) {\r\n    this._name = name;\r\n  }\r\n  private _name: string;\r\n\r\n  constructor(private mccScrollspyService: MccScrollspyService) {}\r\n\r\n  ngAfterContentInit() {\r\n    // add the group items\r\n    const items = this.items.map(item => item);\r\n    this.mccScrollspyService.create(this._name, items);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ScrollingModule } from '@angular/cdk/scrolling';\r\n\r\nimport { MccScrollspyService } from './scrollspy.service';\r\nimport { MccScrollspyGroupDirective, MccScrollspyItemDirective } from './scrollspy.directives';\r\n\r\n@NgModule({\r\n  imports: [CommonModule, ScrollingModule],\r\n  providers: [MccScrollspyService, { provide: 'Window', useValue: window }],\r\n  declarations: [MccScrollspyGroupDirective, MccScrollspyItemDirective],\r\n  exports: [MccScrollspyGroupDirective, MccScrollspyItemDirective],\r\n})\r\nexport class MccScrollspyModule {}\r\n","import { animate, state, style, transition, trigger } from '@angular/animations';\r\n\r\n/**\r\n * Types of animation to be executed by speed-dial-actions\r\n */\r\nexport type ANIMATION = 'fling' | 'scale';\r\n\r\n/**\r\n * Default value of action button z-index \r\n */\r\nexport const Z_INDEX = 23;\r\n\r\n/**\r\n * SPIN animation used on speed-dial\r\n */\r\nexport const SPIN_ANIMATION = trigger('spin', [\r\n  state('open', style({\r\n    transform: 'rotate(360deg)',\r\n  })),\r\n  state('closed', style({\r\n    transform: 'rotate(0deg)',\r\n  })),\r\n  transition('open => closed', [animate('.3s')]),\r\n  transition('closed => open', [animate('.3s')]),\r\n]);","import { AfterContentInit, Component, ContentChildren, Input, QueryList, Renderer2, ViewEncapsulation } from '@angular/core';\r\nimport { MatButton } from '@angular/material/button';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { ANIMATION, Z_INDEX } from './animations';\r\nimport { DIRECTION } from './directions';\r\n\r\n@Component({\r\n  selector: 'mcc-speed-dial-actions',\r\n  templateUrl: './speed-dial-actions.component.html',\r\n  styleUrls: ['./speed-dial-actions.component.scss'],\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class MccSpeedDialActionsComponent implements AfterContentInit {\r\n  /**\r\n   * Hold all the actions button inside fab speed dial\r\n   */\r\n  @ContentChildren(MatButton) _buttons: QueryList<MatButton>;\r\n\r\n  /**\r\n   * Set type of animation will be executed on open/close\r\n   * Type available are: scale | fling\r\n   */\r\n  @Input() set animation(animation: ANIMATION) {\r\n    this._animation.next(animation);\r\n  }\r\n  private _animation: BehaviorSubject<ANIMATION> = new BehaviorSubject('scale');\r\n\r\n  /**\r\n   * Last animation the was used\r\n   */\r\n  private _lastAnimationClass: string;\r\n\r\n  constructor(private renderer: Renderer2) { }\r\n\r\n  /**\r\n   * The z-index style and animation class are handle separate because\r\n   * z-index will be set only one time, and the animation class will be set\r\n   * every time the animation change\r\n   */\r\n  ngAfterContentInit() {\r\n    // set z-index style to each button action\r\n    this._buttons.forEach((button, index) => {\r\n      this.renderer.setStyle(button._elementRef.nativeElement, 'z-index', (Z_INDEX - index));\r\n    });\r\n\r\n    // set the animation class to each button action\r\n    this._animation.subscribe(animation => {\r\n      const nextAnimationClass = `speed-dial-item-animation-${animation}`;\r\n      this._buttons.forEach(button => {\r\n        if (this._lastAnimationClass) {\r\n          this.renderer.removeClass(button._elementRef.nativeElement, this._lastAnimationClass);\r\n        }\r\n        this.renderer.addClass(button._elementRef.nativeElement, nextAnimationClass);\r\n      });\r\n\r\n      this._lastAnimationClass = nextAnimationClass;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Responsible for change the state of the action buttons to visible\r\n   * \r\n   * @param direction DIRECTION\r\n   */\r\n  show(direction: DIRECTION) {\r\n    switch (this._animation.value) {\r\n      case 'scale': {\r\n        this._buttons.forEach((button, index) => {\r\n          const transition = 3 + (65 * index);\r\n\r\n          this.renderer.setStyle(button._elementRef.nativeElement, 'transition-delay', `${transition}ms`);\r\n          this.renderer.setStyle(button._elementRef.nativeElement, 'opacity', '1');\r\n          this.renderer.setStyle(button._elementRef.nativeElement, 'transform', 'scale(1)');\r\n        });\r\n        break;\r\n      }\r\n\r\n      case 'fling': {\r\n        const translateFn = (direction == 'up' || direction == 'down') ? 'translateY' : 'translateX';\r\n        const sign = (direction == 'down' || direction == 'right') ? '-' : '';\r\n\r\n        this._buttons.forEach(button => {\r\n          this.renderer.setStyle(button._elementRef.nativeElement, 'transition-delay', '0ms');\r\n          this.renderer.setStyle(button._elementRef.nativeElement, 'opacity', '1');\r\n          this.renderer.setStyle(button._elementRef.nativeElement, 'transform', `${translateFn}(${sign}0)`);\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Hide all the buttons action\r\n   * \r\n   * @param direction DIRECTION\r\n   */\r\n  hide(direction: DIRECTION) {\r\n    switch (this._animation.value) {\r\n      case 'scale': {\r\n        this._buttons.forEach((button, index) => {\r\n          const transition = 3 - (65 * index);\r\n\r\n          this.renderer.setStyle(button._elementRef.nativeElement, 'transition-delay', `${transition}ms`);\r\n          this.renderer.setStyle(button._elementRef.nativeElement, 'opacity', '0');\r\n          this.renderer.setStyle(button._elementRef.nativeElement, 'transform', 'scale(0)');\r\n        });\r\n        break;\r\n      }\r\n\r\n      case 'fling': {\r\n        const translateFn = (direction == 'up' || direction == 'down') ? 'translateY' : 'translateX';\r\n        const sign = (direction == 'down' || direction == 'right') ? '-' : '';\r\n\r\n        this._buttons.forEach((button, index) => {\r\n          const transform = (55 * (index + 1) - (index * 5));\r\n\r\n          this.renderer.setStyle(button._elementRef.nativeElement, 'transition-delay', '0ms');\r\n          this.renderer.setStyle(button._elementRef.nativeElement, 'opacity', '1');\r\n          this.renderer.setStyle(button._elementRef.nativeElement, 'transform', `${translateFn}(${sign}${transform}px)`);\r\n        });\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { coerceBooleanProperty } from '@angular/cdk/coercion';\r\nimport { AfterViewInit, Component, ContentChild, EventEmitter, Input, OnChanges, Output, SimpleChanges } from '@angular/core';\r\nimport { SPIN_ANIMATION } from './animations';\r\nimport { DIRECTION } from './directions';\r\nimport { MccSpeedDialActionsComponent } from './speed-dial-actions.component';\r\n\r\n@Component({\r\n  selector: 'mcc-speed-dial',\r\n  templateUrl: './speed-dial.component.html',\r\n  styleUrls: ['./speed-dial.component.scss'],\r\n  animations: [SPIN_ANIMATION],\r\n})\r\nexport class MccSpeedDialComponent implements AfterViewInit, OnChanges {\r\n  /**\r\n   * Hold speed-dial-actions component inside this component\r\n   */\r\n  @ContentChild(MccSpeedDialActionsComponent) actions: MccSpeedDialActionsComponent;\r\n\r\n  /**\r\n   * Set initial 'open' state\r\n   */\r\n  @Input('open') set isOpen(open: boolean) {\r\n    this._isOpen = coerceBooleanProperty(open);\r\n  }\r\n  get isOpen(): boolean {\r\n    return this._isOpen;\r\n  }\r\n  private _isOpen: boolean = false;\r\n\r\n  /**\r\n   * When enabled, handle open/close state on mouse hover\r\n   */\r\n  @Input('mouseHover') set hover(hover: boolean) {\r\n    this._hover = coerceBooleanProperty(hover);\r\n  }\r\n  private _hover: boolean = false;\r\n\r\n  /**\r\n   * Enable/disable spin animation when button is clicked or hovered\r\n   */\r\n  @Input() set spin(spin: boolean) {\r\n    this._spin = spin;\r\n  }\r\n  get spin() {\r\n    return this._spin;\r\n  }\r\n  private _spin: boolean = true;\r\n\r\n  /**\r\n   * Define the direction of the actions button\r\n   * Directions available are: up | down | left | right\r\n   */\r\n  @Input() set direction(direction: DIRECTION) {\r\n    this._direction = direction;\r\n  }\r\n  get direction(): DIRECTION {\r\n    return this._direction;\r\n  }\r\n  private _direction: DIRECTION = 'up';\r\n\r\n  /**\r\n   * Event emitted when open state change\r\n   */\r\n  @Output() openStateChange: EventEmitter<boolean> = new EventEmitter<boolean>();\r\n\r\n  constructor() { }\r\n\r\n  /**\r\n   * Call fab speed dial actions functions to change the\r\n   * visibility of the buttons\r\n   */\r\n  private _setActionsState() {\r\n    if (this._isOpen) {\r\n      this.actions.show(this._direction);\r\n    } else {\r\n      this.actions.hide(this._direction);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Set initial state to the action buttons inside speed-dial-actions\r\n   */\r\n  ngAfterViewInit() {\r\n    this._setActionsState();\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if ('isOpen' in changes && changes['isOpen'].previousValue !== undefined) {\r\n      this._setActionsState();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * When mouseHover is enabled and state is closed\r\n   * calls toggle to open the actions\r\n   */\r\n  hoverStart() {\r\n    if (this._hover && !this._isOpen) {\r\n      this.toggle();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * When mouseHover is enabled and state is open\r\n   * calls toggle to close the actions\r\n   */\r\n  hoverStop() {\r\n    if (this._hover && this._isOpen) {\r\n      this.toggle();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Change the open state\r\n   */\r\n  toggle() {\r\n    this._isOpen = !this._isOpen;\r\n\r\n    this._setActionsState();\r\n\r\n    this.openStateChange.emit(this._isOpen);\r\n  }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MccSpeedDialActionsComponent } from './speed-dial-actions.component';\r\nimport { MccSpeedDialComponent } from './speed-dial.component';\r\n\r\n@NgModule({\r\n  imports: [CommonModule, MatButtonModule],\r\n  declarations: [MccSpeedDialComponent, MccSpeedDialActionsComponent],\r\n  exports: [MccSpeedDialComponent, MccSpeedDialActionsComponent],\r\n})\r\nexport class MccSpeedDialModule { }\r\n","// accepted hours\r\nexport type MccTimerPickerHour =\r\n  | '1'\r\n  | '2'\r\n  | '3'\r\n  | '4'\r\n  | '5'\r\n  | '6'\r\n  | '7'\r\n  | '8'\r\n  | '9'\r\n  | '10'\r\n  | '11'\r\n  | '12';\r\n\r\n// accepted minutes\r\nexport type MccTimerPickerMinute =\r\n  | '00'\r\n  | '05'\r\n  | '10'\r\n  | '15'\r\n  | '20'\r\n  | '25'\r\n  | '30'\r\n  | '35'\r\n  | '40'\r\n  | '45'\r\n  | '50'\r\n  | '55';\r\n\r\n/** \r\n * format 12 return hours with 'am' or 'pm'. Examples: \r\n * 12:00 am\r\n * 3:00 pm\r\n * 5:35 pm\r\n * \r\n * format 24 return hours in 24h period. Examples:\r\n * 12:00\r\n * 15:00\r\n * 17:35\r\n */\r\nexport type MccTimerPickerFormat = '12' | '24';\r\n\r\n// period typs\r\nexport type MccTimerPickerPeriod = 'am' | 'pm';\r\n\r\n// timer picker type\r\nexport type MccTimerPickerTimeType = 'hour' | 'min';\r\n\r\n/**\r\n * contants to create timer with HOURS or MINUTES\r\n */\r\nexport const HOURS: string[] = ['12', '11', '1', '10', '2', '9', '3', '8', '4', '7', '5', '6'];\r\nexport const MINUTES: string[] = [\r\n  '00',\r\n  '55',\r\n  '05',\r\n  '50',\r\n  '10',\r\n  '45',\r\n  '15',\r\n  '40',\r\n  '20',\r\n  '35',\r\n  '25',\r\n  '30',\r\n];\r\n","import {\r\n  Component,\r\n  ChangeDetectionStrategy,\r\n  EventEmitter,\r\n  Input,\r\n  Output,\r\n} from '@angular/core';\r\nimport { CdkOverlayOrigin } from '@angular/cdk/overlay';\r\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\r\nimport { Observable, BehaviorSubject } from 'rxjs';\r\nimport {\r\n  MccTimerPickerTimeType,\r\n  MccTimerPickerFormat,\r\n  MccTimerPickerHour,\r\n  MccTimerPickerMinute,\r\n  MccTimerPickerPeriod,\r\n  HOURS,\r\n  MINUTES,\r\n} from './timer-picker';\r\n\r\n@Component({\r\n  selector: 'mcc-timer-picker',\r\n  templateUrl: './timer-picker.component.html',\r\n  styleUrls: ['./timer-picker.component.scss'],\r\n  preserveWhitespaces: false,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class MccTimerPickerComponent {\r\n  /**\r\n   * Receive selected _hour after confirm\r\n   */\r\n  private _selectedHour: MccTimerPickerHour = '12';\r\n\r\n  /**\r\n   * Receive selected _minute after confirm\r\n   */\r\n  private _selectedMinute: MccTimerPickerMinute = '00';\r\n\r\n  /**\r\n   * Receive selected _period after confirm\r\n   */\r\n  private _selectedPeriod: MccTimerPickerPeriod = 'am';\r\n\r\n  /**\r\n   * Current value (hour/minute) to create the clock\r\n   */\r\n  get clock$(): Observable<string[]> {\r\n    return this._clock.asObservable();\r\n  }\r\n  private _clock: BehaviorSubject<string[]> = new BehaviorSubject(HOURS);\r\n\r\n  /**\r\n   * Type there is in focus (hour/minute)\r\n   */\r\n  get focus(): MccTimerPickerTimeType {\r\n    return this._focus;\r\n  }\r\n  set focus(value: MccTimerPickerTimeType) {\r\n    if (value !== this._focus) {\r\n      this._focus = value;\r\n      this._clock.next(this._focus === 'hour' ? HOURS : MINUTES);\r\n    }\r\n  }\r\n  private _focus: MccTimerPickerTimeType = 'hour';\r\n\r\n  /**\r\n   * State of the overlay\r\n   */\r\n  get isOpen(): boolean {\r\n    return this._isOpen;\r\n  }\r\n  set isOpen(value: boolean) {\r\n    this._isOpen = coerceBooleanProperty(value);\r\n  }\r\n  private _isOpen: boolean;\r\n\r\n  /**\r\n   * Return temporary selected hour (const HOURS)\r\n   */\r\n  get hour(): MccTimerPickerHour {\r\n    return this._hour;\r\n  }\r\n  private _hour: MccTimerPickerHour = '12';\r\n\r\n  /**\r\n   * Return temporary selected minute (const MINUTES)\r\n   */\r\n  get minute(): MccTimerPickerMinute {\r\n    return this._minute;\r\n  }\r\n  private _minute: MccTimerPickerMinute = '00';\r\n\r\n  /**\r\n   * Return temporary selected period (am/pm)\r\n   */\r\n  get period(): MccTimerPickerPeriod {\r\n    return this._period;\r\n  }\r\n  private _period: MccTimerPickerPeriod = 'am';\r\n\r\n  /**\r\n   * Hide Confirm and Cancel buttons\r\n   */\r\n  @Input()\r\n  get hideButtons(): boolean {\r\n    return this._hideButtons;\r\n  }\r\n  set hideButtons(value: boolean) {\r\n    this._hideButtons = coerceBooleanProperty(value);\r\n  }\r\n  private _hideButtons: boolean = false;\r\n\r\n  /**\r\n   * Format of the hour to be emited on confirm\r\n   */\r\n  @Input('mccTimerPickerFormat') format: MccTimerPickerFormat = '12';\r\n\r\n  @Input('mccTimerPickerMin') min: string = '00:00 am';\r\n\r\n  @Input('mccTimerPickerMax') max: string = '12:00 pm';\r\n\r\n  /**\r\n   * Change btnCancel label\r\n   */\r\n  @Input() btnCancel: string = 'Cancel';\r\n\r\n  /**\r\n   * Change btnConfirm label\r\n   */\r\n  @Input() btnConfirm: string = 'Ok';\r\n\r\n  /**\r\n   * Event emited when confirm button is pressed.\r\n   * If buttons are hidden, the event is emited when value is changed\r\n   */\r\n  @Output() selected: EventEmitter<string> = new EventEmitter();\r\n\r\n  /**\r\n   * Origin reference of connected timer picker\r\n   */\r\n  trigger: CdkOverlayOrigin;\r\n\r\n  /**\r\n   * Set to true when timer picker have been connected with another component\r\n   */\r\n  connected: boolean = false;\r\n\r\n  constructor() { }\r\n\r\n  /**\r\n   * Return timer option class to create line between the middle of the clock and\r\n   * the option\r\n   */\r\n  getSelectedClass(): string {\r\n    let name = 'selected-index-';\r\n    if (this.focus === 'hour') {\r\n      name += HOURS.findIndex(h => h === this.hour);\r\n    } else {\r\n      name += MINUTES.findIndex(m => m === this.minute);\r\n    }\r\n\r\n    return name;\r\n  }\r\n\r\n  /**\r\n   * Select option from the clock.\r\n   * @param value MccTimerPickerHour | MccTimerPickerMinute\r\n   */\r\n  select(value: MccTimerPickerHour | MccTimerPickerMinute): void {\r\n    if (this.focus === 'hour') {\r\n      this._hour = <MccTimerPickerHour>value;\r\n      this.focus = 'min';\r\n    } else {\r\n      this._minute = <MccTimerPickerMinute>value;\r\n    }\r\n\r\n    // if buttons are hidden, emit new event when value is changed\r\n    if (this._hideButtons) {\r\n      this.confirmSelectedTime();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Returns array containing time, hour and period fragments from time string\r\n   * @param time string\r\n   */\r\n  parseTimeInput(time: string): [number, number, string] {\r\n    const parsed = time.split(/\\s|:/).map((fragment, index) => {\r\n      return index === 2 ? fragment : parseInt(fragment, 10);\r\n    });\r\n\r\n    if (parsed.length === 2) {\r\n      // assume we are using 24 hour time format\r\n      const hours = parsed[0] as number;\r\n      if (hours > 11) {\r\n        parsed[0] = hours - 12;\r\n        parsed.push('pm');\r\n      } else {\r\n        parsed.push('am');\r\n      }\r\n    }\r\n\r\n    return parsed as [number, number, string];\r\n  }\r\n\r\n  /**\r\n   * Returns true if option value is not valid\r\n   * @param value MccTimerPickerHour | MccTimerPickerMinute\r\n   */\r\n  isOptionDisabled(value: MccTimerPickerHour | MccTimerPickerMinute): boolean {\r\n\r\n    const [minHour, minMinutes, minPeriod] = this.parseTimeInput(this.min);\r\n    const [maxHour, maxMinutes, maxPeriod] = this.parseTimeInput(this.max);\r\n\r\n    const optionValue = parseInt(value, 10);\r\n    const selectedHour = parseInt(this._hour, 10);\r\n    const selectedPeriod = this._period;\r\n\r\n    if (this.focus === 'hour') {\r\n      if (optionValue < minHour && selectedPeriod === minPeriod) {\r\n        return true;\r\n      } else if (optionValue > maxHour && selectedPeriod === maxPeriod) {\r\n        return true;\r\n      }\r\n    } else {\r\n      if (selectedHour === minHour && selectedPeriod === minPeriod && optionValue < minMinutes) {\r\n        return true;\r\n      } else if (selectedHour === maxHour && selectedPeriod === maxPeriod && optionValue > maxMinutes) {\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * Change period of the clock\r\n   * @param period MccTimerPickerPeriod\r\n   */\r\n  changePeriod(period: MccTimerPickerPeriod): void {\r\n    this._period = period;\r\n    // if buttons are hidden, emit new event when value is changed\r\n    if (this._hideButtons) {\r\n      this.confirmSelectedTime();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Update selected color, close the panel and notify the user\r\n   */\r\n  backdropClick(): void {\r\n    this.confirmSelectedTime();\r\n    this._isOpen = false;\r\n  }\r\n\r\n  /**\r\n   * Change values to last confirm select time\r\n   */\r\n  cancelSelection(): void {\r\n    this._hour = this._selectedHour;\r\n    this._minute = this._selectedMinute;\r\n    this._period = this._selectedPeriod;\r\n    this._isOpen = false;\r\n  }\r\n\r\n  /**\r\n   * Set new values of time and emit new event with the formated timer\r\n   */\r\n  confirmSelectedTime(): void {\r\n    this._selectedHour = this.hour;\r\n    this._selectedMinute = this.minute;\r\n    this._selectedPeriod = this.period;\r\n\r\n    // format string to emit selected time\r\n    let formated: string;\r\n    if (this.format === '12') {\r\n      formated = `${this.hour}:${this.minute} ${this.period}`;\r\n    } else {\r\n      let hour: string = this.hour;\r\n      if (this.period === 'pm') {\r\n        hour = `${parseInt(hour) + 12}`;\r\n      }\r\n\r\n      formated = `${hour}:${this.minute}`;\r\n    }\r\n\r\n    this.selected.emit(formated);\r\n\r\n    // only close automatically if button aren't hidden\r\n    if (!this._hideButtons) {\r\n      this._isOpen = false;\r\n    }\r\n  }\r\n}\r\n","import {\r\n  AfterViewInit,\r\n  ChangeDetectorRef,\r\n  Directive,\r\n  ElementRef,\r\n  forwardRef,\r\n  Input,\r\n  Output,\r\n  OnDestroy,\r\n  Renderer2,\r\n} from '@angular/core';\r\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { MccTimerPickerComponent } from './timer-picker.component';\r\nimport { Subscription, BehaviorSubject } from 'rxjs';\r\n\r\n@Directive({\r\n  selector: '[mccTimerPickerOrigin], [mcc-timer-picker-origin]',\r\n  exportAs: 'mccTimerPickerOrigin',\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: forwardRef(() => MccTimerPickerOriginDirective),\r\n      multi: true,\r\n    },\r\n  ],\r\n})\r\nexport class MccTimerPickerOriginDirective {\r\n  /**\r\n   * Emit changes from the origin\r\n   */\r\n  @Output() change: BehaviorSubject<string> = new BehaviorSubject<string>('');\r\n\r\n  /**\r\n   * Emit changes from the origin\r\n   */\r\n  @Output() hasFocus: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\r\n\r\n  /**\r\n   * Propagate changes to angular\r\n   */\r\n  propagateChanges: (_: any) => {};\r\n\r\n  /**\r\n   * Reference to the element on which the directive is applied.\r\n   */\r\n  constructor(public elementRef: ElementRef, private renderer: Renderer2) {\r\n    // listen focus\r\n    renderer.listen(elementRef.nativeElement, 'focus', () => this.hasFocus.next(true));\r\n  }\r\n\r\n  /**\r\n   * This method will be called by the forms API to write to the view when\r\n   * programmatic (model -> view) changes are requested.\r\n   */\r\n  writeValue(time: string) {\r\n    this.renderer.setProperty(this.elementRef.nativeElement, 'value', time);\r\n    this.change.next(time);\r\n    if (this.propagateChanges) {\r\n      this.propagateChanges(time);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * This method will be called by the time picker\r\n   */\r\n  writeValueFromTimerPicker(time: string) {\r\n    this.renderer.setProperty(this.elementRef.nativeElement, 'value', time);\r\n    this.propagateChanges(time);\r\n  }\r\n\r\n  /**\r\n   * This method will be called from origin whe key is up\r\n   */\r\n  writeValueFromKeyup(time: string) {\r\n    this.change.next(time);\r\n    this.propagateChanges(time);\r\n  }\r\n\r\n  /**\r\n   * This is called by the forms API on initialization so it can update the\r\n   * form model when values propagate from the view (view -> model).\r\n   * @param fn any\r\n   */\r\n  registerOnChange(fn: any): void {\r\n    this.propagateChanges = fn;\r\n  }\r\n\r\n  /**\r\n   * This is called by the forms API on initialization so it can update the form model on blur\r\n   * @param fn any\r\n   */\r\n  registerOnTouched(fn: any): void { }\r\n\r\n  /**\r\n   * called by the forms API when the control status changes to or from \"DISABLED\"\r\n   * @param isDisabled boolean\r\n   */\r\n  setDisabledState(isDisabled: boolean): void {\r\n    this.renderer.setProperty(this.elementRef.nativeElement, 'disabled', isDisabled);\r\n  }\r\n}\r\n\r\n@Directive({\r\n  selector: '[mccConnectedTimerPicker], [mcc-connected-timer-picker]',\r\n  exportAs: 'mccConnectedTimerPicker',\r\n})\r\nexport class MccConnectedTimerPickerDirective implements AfterViewInit, OnDestroy {\r\n  /**\r\n   * origin of the connected timer picker\r\n   */\r\n  @Input('mccConnectedTimerPickerOrigin') origin: MccTimerPickerOriginDirective;\r\n\r\n  /**\r\n   * subscription of the origin focus observable\r\n   */\r\n  private _originFocus: Subscription;\r\n\r\n  /**\r\n   * subscription of the timer picker selected change\r\n   */\r\n  private _timerPickerSub: Subscription;\r\n\r\n  constructor(\r\n    private timerPicker: MccTimerPickerComponent,\r\n    public changeDetectorRef: ChangeDetectorRef\r\n  ) {\r\n    this.timerPicker.connected = true;\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    if (!this._timerPickerSub) {\r\n      this.timerPicker.trigger = this.origin;\r\n      this._attachTimerPicker();\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this._originFocus && !this._originFocus.closed) {\r\n      this._originFocus.unsubscribe();\r\n    }\r\n    if (this._timerPickerSub && !this._timerPickerSub.closed) {\r\n      this._timerPickerSub.unsubscribe();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Attach the timer picker to origin element (input)\r\n   */\r\n  private _attachTimerPicker(): void {\r\n    this._originFocus = this.origin.hasFocus.subscribe(focused => {\r\n      this.timerPicker.focus = 'hour';\r\n      this.timerPicker.isOpen = focused;\r\n      this.changeDetectorRef.detectChanges();\r\n    });\r\n\r\n    this._timerPickerSub = this.timerPicker.selected.subscribe(value =>\r\n      this.origin.writeValueFromTimerPicker(value)\r\n    );\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { PortalModule } from '@angular/cdk/portal';\r\nimport { OverlayModule } from '@angular/cdk/overlay';\r\nimport { MatButtonModule } from '@angular/material/button';\r\n\r\nimport { MccTimerPickerComponent } from './timer-picker.component';\r\nimport {\r\n  MccTimerPickerOriginDirective,\r\n  MccConnectedTimerPickerDirective,\r\n} from './timer-picker.directives';\r\n\r\n@NgModule({\r\n  imports: [CommonModule, PortalModule, OverlayModule, MatButtonModule],\r\n  declarations: [\r\n    MccTimerPickerComponent,\r\n    MccTimerPickerOriginDirective,\r\n    MccConnectedTimerPickerDirective,\r\n  ],\r\n  exports: [\r\n    MccTimerPickerComponent,\r\n    MccTimerPickerOriginDirective,\r\n    MccConnectedTimerPickerDirective,\r\n  ],\r\n})\r\nexport class MccTimerPickerModule { }\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n\nexport {USED_COLORS as ɵa} from './color-picker/color-picker';\nexport {MccColorPickerCollectionComponent as ɵd} from './color-picker/color-picker-collection.component';\nexport {MccColorPickerSelectorComponent as ɵh} from './color-picker/color-picker-selector.component';\nexport {MccColorPickerComponent as ɵc} from './color-picker/color-picker.component';\nexport {MccColorPickerOptionDirective as ɵe,MccColorPickerOriginDirective as ɵf,MccConnectedColorPickerDirective as ɵg} from './color-picker/color-picker.directives';\nexport {MccScrollspyGroupDirective as ɵb} from './scrollspy/scrollspy.directives';\nexport {SPIN_ANIMATION as ɵj} from './speed-dial/animations';\nexport {MccSpeedDialActionsComponent as ɵk} from './speed-dial/speed-dial-actions.component';\nexport {MccSpeedDialComponent as ɵi} from './speed-dial/speed-dial.component';\nexport {MccTimerPickerComponent as ɵl} from './timer-picker/timer-picker.component';\nexport {MccConnectedTimerPickerDirective as ɵn,MccTimerPickerOriginDirective as ɵm} from './timer-picker/timer-picker.directives';"],"names":[],"mappings":"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"}